{"ast":null,"code":"var _jsxFileName = \"D:\\\\react js\\\\workspace\\\\react-project-almost-final\\\\src\\\\scheduledflight\\\\component\\\\UpdateScheduledFlights.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport ScheduledFlightService from \"../service/ScheduledFlightService\";\nimport ScheduledFlight from \"../model/scheduledflight\";\nimport FlightService from \"../../flight/service/FlightService\";\nimport ScheduleService from \"../../schedule/service/ScheduleService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction UpdateScheduledFlights() {\n  _s();\n\n  const service = new ScheduledFlightService();\n  const flightService = new FlightService();\n  const scheduleService = new ScheduleService();\n  const navigate = useNavigate();\n  const {\n    flightNumber\n  } = useParams();\n  const [state, changeState] = React.useState({\n    scheduledFlight: new ScheduledFlight()\n  });\n  const [flights, changeFlights] = React.useState([]);\n  const [schedules, changeSchedules] = React.useState([]);\n  const [scheduleId, changeScheduleId] = React.useState([]);\n  const [flightId, changeFlightId] = React.useState();\n  React.useEffect(() => {\n    service.findScheduledFlight(flightNumber).then(data => {\n      changeState({\n        scheduledFlight: data.data\n      });\n    }).catch(() => {\n      alert(\"Problem in getting scheuded flight data\");\n    });\n    flightService.getAllFlights().then(data => {\n      changeFlights(data.data);\n    }).catch(() => {\n      alert(\"Problem in getting list of planes(flights)\");\n    });\n    scheduleService.getSchedules().then(data => {\n      changeSchedules(data.data);\n    }).catch(() => {\n      alert(\"Problem in getting schedules\");\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"my-4\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"badge badge-dark px-4 py-2\",\n          children: [\"Update scheduled flight \", state.scheduledFlight.scheduleFlightId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Schedule Flight Id\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          type: \"text\",\n          id: \"flightnumber\",\n          name: \"flightnumber\",\n          placeholder: \"Scheduled Flight ID\",\n          value: state.scheduledFlight.scheduleFlightId,\n          readOnly: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Schedule\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          class: \"form-control\",\n          id: \"scheduleId\",\n          value: state.scheduledFlight.schedule.scheduleId,\n          onChange: event => changeScheduleId(event.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Choose a schedule\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 21\n          }, this), schedules.map(schedule => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: schedule.scheduleId,\n            children: [schedule.sourceAirport.airportLocation, \" to \", schedule.destinationAirport.airportLocation, \", at \", new Date(schedule.departureTime).getHours(), \":\", new Date(schedule.departureTime).getMinutes(), \" to \", new Date(schedule.arrivalTime).getHours(), \":\", new Date(schedule.arrivalTime).getMinutes()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Flight\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          class: \"form-control\",\n          id: \"flightId\",\n          value: state.scheduledFlight.flight.flightNumber,\n          onChange: event => {\n            changeFlightId(event.target.value);\n            flightService.getFlight(event.target.value).then(data => {\n              changeState({\n                scheduledFlight: { ...state.scheduledFlight,\n                  availableSeats: data.data.seatCapacity\n                }\n              });\n            }).catch(() => {\n              alert(\"Change error.\");\n            });\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Choose a flight\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 21\n          }, this), flights.map(flight => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: flight.flightNumber,\n            children: [\"Flight \", flight.flightNumber, \", \", flight.carrierName, \". \", flight.flightModel, \", seat capacity: \", flight.seatCapacity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: event => {\n          event.preventDefault();\n          service.addScheduledFlight(state.scheduledFlight, scheduleId, flightId).then(() => {\n            alert(\"Scheduled Flight added\");\n            navigate(\"/links\");\n          }).catch(() => {\n            alert(\"Problem in adding scheduled flights.\");\n          });\n        },\n        children: \"Add schedule\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n}\n\n_s(UpdateScheduledFlights, \"PHv/tixSzk3ONt5bShkVhL5EEms=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = UpdateScheduledFlights;\nexport default UpdateScheduledFlights;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateScheduledFlights\");","map":{"version":3,"sources":["D:/react js/workspace/react-project-almost-final/src/scheduledflight/component/UpdateScheduledFlights.js"],"names":["React","useNavigate","useParams","ScheduledFlightService","ScheduledFlight","FlightService","ScheduleService","UpdateScheduledFlights","service","flightService","scheduleService","navigate","flightNumber","state","changeState","useState","scheduledFlight","flights","changeFlights","schedules","changeSchedules","scheduleId","changeScheduleId","flightId","changeFlightId","useEffect","findScheduledFlight","then","data","catch","alert","getAllFlights","getSchedules","scheduleFlightId","schedule","event","target","value","map","sourceAirport","airportLocation","destinationAirport","Date","departureTime","getHours","getMinutes","arrivalTime","flight","getFlight","availableSeats","seatCapacity","carrierName","flightModel","preventDefault","addScheduledFlight"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport ScheduledFlightService from \"../service/ScheduledFlightService\";\r\nimport ScheduledFlight from \"../model/scheduledflight\";\r\nimport FlightService from \"../../flight/service/FlightService\";\r\nimport ScheduleService from \"../../schedule/service/ScheduleService\";\r\n\r\nfunction UpdateScheduledFlights(){\r\n    const service = new ScheduledFlightService();\r\n    const flightService = new FlightService();\r\n    const scheduleService = new ScheduleService();\r\n    const navigate = useNavigate();\r\n    const{ flightNumber } = useParams();\r\n    const[state, changeState] = React.useState({scheduledFlight: new ScheduledFlight()});\r\n    const[flights, changeFlights] = React.useState([]);\r\n    const[schedules, changeSchedules] = React.useState([]);\r\n    const[scheduleId, changeScheduleId] = React.useState([]);\r\n    const[flightId, changeFlightId] = React.useState();\r\n    React.useEffect(()=>{\r\n        service.findScheduledFlight(flightNumber).then((data)=>{\r\n            changeState({scheduledFlight: data.data});\r\n        }).catch(()=>{\r\n            alert(\"Problem in getting scheuded flight data\");\r\n        })\r\n        flightService.getAllFlights().then((data)=>{\r\n            changeFlights(data.data);\r\n        }).catch(()=>{\r\n            alert(\"Problem in getting list of planes(flights)\");\r\n        })\r\n        scheduleService.getSchedules().then((data)=>{\r\n            changeSchedules(data.data);\r\n        }).catch(()=>{\r\n            alert(\"Problem in getting schedules\");\r\n        })\r\n    }, []);\r\n    return(\r\n        <div className=\"my-4\">\r\n            <form>\r\n                <h2><span className='badge badge-dark px-4 py-2'>Update scheduled flight {state.scheduledFlight.scheduleFlightId}</span></h2>\r\n                <div class=\"form-group\">\r\n                    <label>Schedule Flight Id</label>\r\n                    <input className=\"form-control\" type=\"text\" id=\"flightnumber\" name=\"flightnumber\" placeholder=\"Scheduled Flight ID\" value={state.scheduledFlight.scheduleFlightId} readOnly />\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label>Schedule</label>\r\n                    <select class=\"form-control\" id=\"scheduleId\"\r\n                    value = {state.scheduledFlight.schedule.scheduleId}\r\n                    onChange = {(event)=>changeScheduleId(event.target.value)}>\r\n                    <option>Choose a schedule</option> \r\n                    {schedules.map((schedule)=>(\r\n                        <option value={schedule.scheduleId}>{schedule.sourceAirport.airportLocation} to {schedule.destinationAirport.airportLocation}, at {new Date(schedule.departureTime).getHours()}:{new Date(schedule.departureTime).getMinutes()} to {new Date(schedule.arrivalTime).getHours()}:{new Date(schedule.arrivalTime).getMinutes()}</option>  \r\n                    ))}\r\n                    </select>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label>Flight</label>\r\n                    <select class=\"form-control\" id=\"flightId\"\r\n                    value = {state.scheduledFlight.flight.flightNumber}\r\n                    onChange = {(event)=>{\r\n                        changeFlightId(event.target.value);\r\n                        flightService.getFlight(event.target.value).then((data)=>{\r\n                            changeState({scheduledFlight: {...state.scheduledFlight, availableSeats: data.data.seatCapacity}});\r\n                        }).catch(()=>{\r\n                            alert(\"Change error.\");\r\n                        })\r\n                    }}>\r\n                    <option>Choose a flight</option> \r\n                    {flights.map((flight)=>(\r\n                        <option value={flight.flightNumber}>Flight {flight.flightNumber}, {flight.carrierName}. {flight.flightModel}, seat capacity: {flight.seatCapacity}</option>  \r\n                    ))}\r\n                    </select>\r\n                </div>\r\n                <button className=\"btn btn-primary\" onClick={(event)=>{\r\n                    event.preventDefault();\r\n                    service.addScheduledFlight(state.scheduledFlight, scheduleId, flightId).then(()=>{\r\n                        alert(\"Scheduled Flight added\");\r\n                        navigate(\"/links\")\r\n                    }).catch(()=>{\r\n                        alert(\"Problem in adding scheduled flights.\")\r\n                    })\r\n                    \r\n                }}>Add schedule</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UpdateScheduledFlights;"]},"metadata":{},"sourceType":"module"}